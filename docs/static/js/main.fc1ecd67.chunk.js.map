{"version":3,"sources":["../../src/index.js","List.jsx","MaterialList.jsx","CodeSnippet.jsx","App.jsx","serviceWorker.js","index.js"],"names":["props","fetchSize","limit","scroller","mode","minDelta","Error","l","console","useState","lastFetchSize","setLastFetchSize","delta","setDelta","scrollTop","setScrollTop","scrollDirection","setScrollDirection","doneFetching","setDoneFetching","isFetching","setIsFetching","hasScrollbar","setHasScrollbar","initFetchCount","setInitFetchCount","lastCount","setLastCount","start","setStart","end","setEnd","scrollElement","previousScroll","scrollHandler","addEventListener","e","List","ulElement","useRef","data","setData","useLoadMoreOnScroll","forceDonefetching","useEffect","fetchHandler","setTimeout","person","slice","className","ref","style","height","overflow","map","i","idx","key","first_name","last_name","useStyles","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","inline","display","MaterialList","classes","log","ListItem","button","ListItemAvatar","Avatar","alt","fn","ln","toUpperCase","substring","ListItemText","primary","secondary","Typography","component","variant","color","email","Divider","CodeSnippet","input","React","open","setOpen","message","setMessage","handleClose","event","reason","padding","title","Button","onClick","current","focus","select","document","execCommand","err","error","text","opacity","defaultValue","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","action","Fragment","size","IconButton","aria-label","fontSize","flexGrow","spacing","textAlign","paperCenter","App","b","bi","Grid","container","item","xs","md","Paper","gutterBottom","ListItemIcon","primaryTypographyProps","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"wmnIAE4B,SAAAA,G,MACuDA,EAD9C,UAC3BC,OAD2B,W,EAC8CD,EAD9C,MACXE,OADW,YACEC,EAA4CH,EAD9C,S,EAC8CA,EAD9C,KACYI,OADZ,gB,EAC8CJ,EAD9C,SAC4BK,OAD5B,W,IAEjC,EAAe,MAAM,IAAIC,MAAV,4I,IACXC,EAAI,aACR,UAAIH,I,EACII,QAAJ,K,MAEsCC,mBAPT,G,SAO1BC,EAP0B,KAOXC,EAPW,K,EAQPF,mBARO,K,SAQ1BG,EAR0B,KAQnBC,EARmB,K,EASCJ,mBATD,G,SAS1BK,EAT0B,KASfC,EATe,K,EAUaN,mBAVb,Q,SAU1BO,EAV0B,KAUTC,EAVS,K,EAWOR,oBAXP,G,SAW1BS,EAX0B,KAWZC,EAXY,K,EAYGV,oBAZH,G,SAY1BW,EAZ0B,KAYdC,EAZc,K,EAaOZ,oBAbP,G,SAa1Ba,EAb0B,KAaZC,EAbY,K,EAcWd,mBAdX,G,SAc1Be,EAd0B,KAcVC,EAdU,K,EAeChB,mBAfD,G,SAe1BiB,EAf0B,KAefC,EAfe,K,EAgBPlB,mBAhBO,G,SAgB1BmB,EAhB0B,KAgBnBC,EAhBmB,K,EAiBXpB,mBAjBW,G,UAiB1BqB,GAjB0B,MAiBrBC,GAjBqB,M,qBAoBvB,WACDX,GAAD,GAEAM,IAFA,GAAJ,I,6CAKI,G,EACiBhB,EAAjB,I,EAEJ,KACD,CAAC,EAAD,QAVH,I,qBAmBU,WACDY,GAAL,G,EACsBE,EAAlB,KAEL,CAACJ,EAJJ,I,qBAMU,W,IACAY,EAAgB7B,EAAtB,Q,EAEI6B,EAAcA,aAAeA,EAAcA,wBAD/C,UAGD,CALH,I,qBAOU,W,IACAA,EAAgB7B,EAAtB,QACI8B,EAAJ,E,qCACA,G,IACMC,EAAgBF,EAAcG,iBAAiB,UAAU,SAAAC,G,EAC9CJ,EAAb,WACIC,EAAiBD,EAArB,U,EACI,Q,EAEA,M,EAEaA,EAAjB,a,OAEG,W,yCACH,G,EACA,mCAEL,CAjBH,I,qBAmBU,W,IACAA,EAAgB7B,EAAtB,QACA,SAAIa,G,EACSgB,EAAcA,aAAeA,EAA7BA,UAAuDA,EAAcA,wBAA9E,UAEL,CAAClB,EAAWE,EALf,I,qBAOU,W,iBACN,8BACIJ,GAASA,IAATA,IAAJ,G,EACqBF,EAAjB,KAEL,CAACE,EALJ,I,qBAOU,WACFF,GAAJ,G,EACaA,EAAgBA,EAAYA,EAAIA,EAAhCA,EAAT,G,GACA,G,gCACA,eAEAR,EAAQA,EAAgBA,EAAYA,GACpCA,EAAQA,GAFL,G,EAIMQ,EAAT,G,GACA,G,gCACA,gB,2BAEA,G,GACA,MAEL,CAACA,EAAeR,EAhBnB,I,MAqBO,C,MAAA,E,IAAA,G,WAAA,E,aAAA,E,cAAA,E,kBAJmB,W,qCAEtB,MCxDOmC,EA7CF,SAAArC,GACX,IAEMsC,EAAYC,mBAHE,EAII9B,mBAAS,IAJb,mBAIb+B,EAJa,KAIPC,EAJO,OAYhBC,EAAoB,CAAEzC,UAXR,GAWmBE,SAAUmC,EAAWpC,MAV5C,IAUyDE,KAAK,UAN1EwB,EANkB,EAMlBA,MACAE,EAPkB,EAOlBA,IACAV,EARkB,EAQlBA,WACAF,EATkB,EASlBA,aACAG,EAVkB,EAUlBA,cAVkB,EAWlBsB,kBAGFC,qBAAU,WACJhB,IAAUE,GAAKe,EAAajB,EAAOE,KACtC,CAACF,EAAOE,IAOX,IAAMe,EAAe,SAACjB,EAAOE,GAC3BT,GAAc,GACdyB,YAAW,WACTL,EAAQ,GAAD,mBAAKD,GAAL,YAAcO,EAAOC,MAAMpB,EAAOE,MAEzCT,GAAc,KACb,MAGL,OACE,yBAAK4B,UAAU,OAAOC,IAAKZ,EAAWa,MAAO,CAAEC,OAAQ,QAASC,SAAU,SACrEb,EAAKc,KAAI,SAACC,EAAGC,GAAJ,OACR,yBACAP,UAAU,YACRQ,IAAKD,GAFP,WAGMD,EAAEG,WAHR,YAGsBH,EAAEI,eAEzBvC,GAAc,yBAAK6B,UAAU,qBAC7B/B,GAAgB,yBAAK+B,UAAU,kBAAf,W,wBCzCnBW,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCC,KAAM,CACJC,MAAO,OACPC,SAAU,IACVC,gBAAiBJ,EAAMK,QAAQC,WAAWC,OAE5CC,OAAQ,CACNC,QAAS,aA0EAC,EAtEM,SAAAxE,GACjB,IAAMyE,EAAUb,IAGZtB,EAAYC,mBAJU,EAKJ9B,mBAAS,IALL,mBAKrB+B,EALqB,KAKfC,EALe,OAaxBC,EAAoB,CAAEzC,UAXR,GAWmBE,SAAUmC,EAAWpC,MAV5C,IAUyDE,KAAK,UAN1EwB,EAP0B,EAO1BA,MACAE,EAR0B,EAQ1BA,IACAV,EAT0B,EAS1BA,WAEAC,GAX0B,EAU1BH,aAV0B,EAW1BG,eAX0B,EAY1BsB,kBAGFC,qBAAU,WACJhB,IAAUE,GAAKe,EAAajB,EAAOE,KACtC,CAACF,EAAOE,IAOX,IAAMe,EAAe,SAACjB,EAAOE,GAC3BtB,QAAQkE,IAAI9C,EAAOE,GACnBtB,QAAQkE,IAAI,oBACZrD,GAAc,GACdyB,YAAW,WACTL,EAAQ,GAAD,mBAAKD,GAAL,YAAcO,EAAOC,MAAMpB,EAAOE,MACzCtB,QAAQkE,IAAI,iBACZrD,GAAc,KACb,MAML,OACE,kBAAC,IAAD,CAAM6B,IAAKZ,EAAWa,MAAO,CAAEC,OAAQ,QAASC,SAAU,SACrDb,EAAKc,KAAI,SAACC,EAAGC,GAAJ,OACR,oCACA,kBAACmB,EAAA,EAAD,CACEC,QAAM,EACNnB,IAAKD,GAEH,kBAACqB,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAQC,IAAI,eAbHC,EAcQzB,EAAEG,WAdNuB,EAckB1B,EAAEI,UAblCqB,EAAGE,cAAcC,UAAU,EAAE,GAClCF,EAAGC,cAAcC,UAAU,EAAE,MAevB,kBAACC,EAAA,EAAD,CAAcC,QAAO,UAAK9B,EAAEG,WAAP,YAAqBH,EAAEI,WAAa2B,UAAW,kBAACC,EAAA,EAAD,CAClEC,UAAU,OACVC,QAAQ,QACRC,MAAM,gBACNzC,UAAWwB,EAAQH,QAElBf,EAAEoC,UAKL,kBAACC,EAAA,EAAD,CAASH,QAAQ,QAAQD,UAAU,QA5B3B,IAACR,EAAIC,KAgClB7D,GAAc,yBAAKqC,KAAM,EAAGR,UAAU,uB,2ECThC4C,EAnEK,SAAA7F,GAClB,IAAM8F,EAAQvD,mBADa,EAEHwD,IAAMtF,UAAS,GAFZ,mBAEpBuF,EAFoB,KAEdC,EAFc,OAGGF,IAAMtF,UAAS,GAHlB,mBAGpByF,EAHoB,KAGXC,EAHW,KAKrBC,EAAc,SAACC,EAAOC,GACX,cAAXA,GAGJL,GAAQ,IAeV,OACE,yBAAK9C,MAAO,CAAEoD,QAAS,QACrB,4BAAKvG,EAAMwG,MAAMtB,eACjB,yBAAK/B,MAAO,CAAEoD,QAAS,QACrB,kBAACE,EAAA,EAAD,CAAQD,MAAM,oBAAoBE,QAjB3B,WACXZ,EAAMa,QAAQC,QACdd,EAAMa,QAAQE,SACd,IACEC,SAASC,YAAY,QACrBZ,EAAW,uBACX,MAAOa,GACPxG,QAAQyG,MAAMD,GACdb,EAAW,kBALb,QAOEF,GAAQ,MAQJ,kBAAC,IAAD,CAAcP,MAAM,SAASvC,MAAO,CAAEuC,MAAO,YAE/C,8BAAO1F,EAAMkH,OAEf,2BACE/D,MAAO,CAAEgE,QAAS,GAClBjE,IAAK4C,EACLsB,aAAcpH,EAAMkH,OAEtB,kBAACG,EAAA,EAAD,CACEC,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdxB,KAAMA,EACNyB,iBAAkB,IAClBC,QAAStB,EACTF,QAASA,EACTyB,OACE,kBAAC,IAAMC,SAAP,KACE,kBAACnB,EAAA,EAAD,CAAQf,MAAM,YAAYmC,KAAK,QAAQnB,QAASN,GAAhD,UAGA,kBAAC0B,EAAA,EAAD,CACED,KAAK,QACLE,aAAW,QACXrC,MAAM,UACNgB,QAASN,GAET,kBAAC,IAAD,CAAW4B,SAAS,gBC/C5BpE,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJkE,SAAU,EACV/D,gBAAiB,UACjBqC,QAASzC,EAAMoE,QAAQ,IAEzB7D,MAAO,CACLkC,QAASzC,EAAMoE,QAAQ,GACvBC,UAAW,OACXzC,MAAO5B,EAAMK,QAAQ+C,KAAK7B,SAE5B+C,YAAa,CACX7B,QAASzC,EAAMoE,QAAQ,GACvBC,UAAW,SACXzC,MAAO5B,EAAMK,QAAQ+C,KAAK7B,SAE5Bf,OAAQ,CACNC,QAAS,aA0SE8D,MAtSf,WACE,IAAM5D,EAAUb,IACV0E,EAAI,SAAApB,GAAI,OAAI,2BAAIA,IAChB3D,EAAI,SAAA2D,GAAI,OAAI,2BAAIA,IAChBqB,EAAK,SAAArB,GAAI,OACb,2BACE,2BAAIA,KAGR,OACE,yBAAKjE,UAAWwB,EAAQV,MACtB,kBAACyE,EAAA,EAAD,CAAMC,WAAS,EAACP,QAAS,GACvB,kBAACM,EAAA,EAAD,CAAMC,WAAS,EAACC,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIV,QAAS,GAC5C,kBAACM,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,IACrB,kBAACC,EAAA,EAAD,CAAO5F,UAAWwB,EAAQ2D,aACxB,kBAAC7C,EAAA,EAAD,CAAYuD,cAAY,EAACrD,QAAQ,KAAKC,MAAM,eAA5C,oBAGA,kBAACH,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,qFAKJ,kBAAC8C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAO5F,UAAWwB,EAAQJ,OACxB,kBAACkB,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,YAGA,kBAAC,IAAD,KACE,kBAACf,EAAA,EAAD,CAAUlB,IAAK,GACb,kBAACsF,EAAA,EAAD,KACE,kBAAC,IAAD,MACA,kBAAC3D,EAAA,EAAD,CACE4D,uBAAwB,CAAEtD,MAAO,eACjCL,QAAQ,kCAId,kBAACV,EAAA,EAAD,CAAUlB,IAAK,GACb,kBAACsF,EAAA,EAAD,KACE,kBAAC,IAAD,MACA,kBAAC3D,EAAA,EAAD,CACE4D,uBAAwB,CAAEtD,MAAO,eACjCL,QAAQ,kBACRC,UACE,kBAACC,EAAA,EAAD,CACEC,UAAU,OACVC,QAAQ,QACRC,MAAM,gBACNzC,UAAWwB,EAAQH,QAJrB,gDAYR,kBAACK,EAAA,EAAD,CAAUlB,IAAK,GACb,kBAACsF,EAAA,EAAD,KACE,kBAAC,IAAD,MAEA,kBAAC3D,EAAA,EAAD,CACE4D,uBAAwB,CAAEtD,MAAO,eACjCL,QAAQ,0CACRC,UACE,kBAACC,EAAA,EAAD,CACEC,UAAU,OACVC,QAAQ,QACRC,MAAM,gBACNzC,UAAWwB,EAAQH,QAJrB,0EAaR,kBAACK,EAAA,EAAD,CAAUlB,IAAK,GACb,kBAACsF,EAAA,EAAD,KACE,kBAAC,IAAD,MAEA,kBAAC3D,EAAA,EAAD,CACE4D,uBAAwB,CAAEtD,MAAO,eACjCL,QAAQ,gDACRC,UACE,kBAACC,EAAA,EAAD,CACEC,UAAU,OACVC,QAAQ,QACRC,MAAM,gBACNzC,UAAWwB,EAAQH,QAJrB,oDAYR,kBAACK,EAAA,EAAD,CAAUlB,IAAK,GACb,kBAACsF,EAAA,EAAD,KACE,kBAAC,IAAD,MAEA,kBAAC3D,EAAA,EAAD,CACE4D,uBAAwB,CAAEtD,MAAO,eACjCL,QAAQ,0EACRC,UACE,kBAACC,EAAA,EAAD,CACEC,UAAU,OACVC,QAAQ,QACRC,MAAM,gBACNzC,UAAWwB,EAAQH,gBAUnC,kBAACkE,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAAC,EAAD,CACEpC,MAAM,eACNU,KAAK,iCAEP,kBAAC,EAAD,CACEV,MAAM,SACNU,KAAK,0DAIX,kBAACsB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAAC,EAAD,CACEpC,MAAM,OACNU,KAAI,wtBA4BR,kBAACsB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAO5F,UAAWwB,EAAQJ,OACxB,kBAACkB,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,gBAGA,kBAAC,EAAD,QAGJ,kBAAC8C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAO5F,UAAWwB,EAAQJ,OACxB,kBAACkB,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,iBAGA,kBAAC,EAAD,QAGJ,kBAAC8C,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAI,IACrB,kBAACC,EAAA,EAAD,CAAO5F,UAAWwB,EAAQJ,OACxB,kBAACkB,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,iBAGA,kBAACH,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,aAGA,kBAACH,EAAA,EAAD,CAAYE,QAAQ,IAAIC,MAAM,eAA9B,gBACgB6C,EAAG,yBADnB,yDAEyDhF,EACrD,SACC,IAJL,6EAOE,4BACE,qCACUA,EAAE,UADZ,qPAK0BA,EAAE,YAL5B,8IASA,2BACGgF,EAAG,eADN,iCACoD,IACjDA,EAAG,WAFN,4EAIE,6BAJF,IAIahF,EAAE,WAJf,6JAQA,0EAC+CgF,EAAG,cAAe,IADjE,4LAOA,iEACsCA,EAAG,WADzC,OACyD,IACtDA,EAAG,SAFN,wCAEqD,IAClDA,EAAG,uBAHN,6CAQJ,kBAAChD,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,OAGA,kBAACH,EAAA,EAAD,CAAYG,MAAM,eAChB,kBAACH,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,cAGA,4BACE,2BACG4C,EAAE,cADL,IACqB/E,EAAE,gBADvB,gDAIA,2BACG+E,EAAE,aADL,IACoB/E,EAAE,iBADtB,YACiDA,EAAE,OAAQ,IAD3D,6HAKA,2BACG+E,EAAE,UADL,IACiB/E,EAAE,iBADnB,sCAIA,2BACG+E,EAAE,SADL,IACgB/E,EAAE,qBADlB,WACgDA,EAAE,SADlD,yBAIA,2BACG+E,EAAE,aADL,IACoB/E,EAAE,gBADtB,sHAMF,kBAACgC,EAAA,EAAD,CAAYE,QAAQ,KAAKC,MAAM,eAA/B,eAGA,4BACE,2BACG4C,EAAE,SADL,IACgB/E,EAAE,YADlB,4CAIA,2BACG+E,EAAE,OADL,IACc/E,EAAE,YADhB,0CAIA,2BACG+E,EAAE,cADL,IACqB/E,EAAE,aADvB,sCAIA,2BACG+E,EAAE,gBADL,IACuB/E,EAAE,aADzB,sBAC0D,IACvDA,EAAE,SAFL,4BAEwCA,EAAE,sBAE1C,2BACG+E,EAAE,iBADL,IACwB/E,EAAE,cAD1B,wDAIA,2BACG+E,EAAE,qBADL,IAC4B/E,EAAE,cAD9B,oCCnTI0F,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASzC,SAAS0C,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.fc1ecd67.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst useLoadMoreOnScroll = props => {\n    let { fetchSize = 10, limit = 500, scroller, mode = 'error', minDelta = 25 } = props;\n    if (!scroller) throw new Error(`Cannot use useLoadMoreOnScroll without specifying a scroller. \\n scroller MUST be an HtmlDOMElement acquired via useRef() or React.ref()`)\n    let l = () => {};\n    if (mode === 'debug') {\n        l = console.log;\n    }\n    const [lastFetchSize, setLastFetchSize] = useState(fetchSize);\n    const [delta, setDelta] = useState(999);\n    const [scrollTop, setScrollTop] = useState(0);\n    const [scrollDirection, setScrollDirection] = useState('none');\n    const [doneFetching, setDoneFetching] = useState(false);\n    const [isFetching, setIsFetching] = useState(true);\n    const [hasScrollbar, setHasScrollbar] = useState(false);\n    const [initFetchCount, setInitFetchCount] = useState(0);\n    const [lastCount, setLastCount] = useState(0);\n    const [start, setStart] = useState(0);\n    const [end, setEnd] = useState(0);\n\n\n    useEffect(() => {\n        if (!isFetching &&\n            !hasScrollbar &&\n            lastCount !== initFetchCount &&\n            !doneFetching\n        ) {\n            l(`Trying to  make the scrollbar visible : ${initFetchCount}`);\n            setLastFetchSize(lastFetchSize + fetchSize);\n        }\n        setLastCount(initFetchCount);\n    }, [\n        initFetchCount,\n        isFetching,\n        hasScrollbar,\n        lastFetchSize,\n        fetchSize,\n        doneFetching\n    ]);\n\n    useEffect(() => {\n        if (!hasScrollbar && !isFetching) {\n            setInitFetchCount(initFetchCount + 1);\n        }\n    }, [isFetching, hasScrollbar]);\n\n    useEffect(() => {\n        const scrollElement = scroller.current;\n        setHasScrollbar(\n            scrollElement.scrollHeight > scrollElement.getBoundingClientRect().height\n        );\n    }, [isFetching]);\n\n    useEffect(() => {\n        const scrollElement = scroller.current;\n        let previousScroll = 0;\n        l(`scroll listener added to element`, scrollElement);\n        const scrollHandler = scrollElement.addEventListener(\"scroll\", e => {\n            setScrollTop(scrollElement.scrollTop);\n            if (previousScroll < scrollElement.scrollTop) {\n                setScrollDirection(\"down\");\n            } else {\n                setScrollDirection(\"up\");\n            }\n            previousScroll = scrollElement.scrollTop;\n        });\n        return () => {\n            l(`scroll listener removed from element`, scrollElement);\n            scrollElement.removeEventListener(\"scroll\", scrollHandler);\n        };\n    }, [scroller]);\n\n    useEffect(() => {\n        const scrollElement = scroller.current;\n        if (scrollDirection === \"down\") {\n            setDelta(scrollElement.scrollHeight - scrollElement.scrollTop - scrollElement.getBoundingClientRect().height);\n        }\n    }, [scrollTop, scrollDirection, isFetching]);\n\n    useEffect(() => {\n        l(`delta value ${delta} and scroll direction ${scrollDirection}`)\n        if (delta <= minDelta && !isFetching && !doneFetching) {\n            setLastFetchSize(lastFetchSize + fetchSize);\n        }\n    }, [delta, doneFetching]);\n\n    useEffect(() => {\n        if (lastFetchSize <= limit) {\n            setStart(lastFetchSize - fetchSize > 0 ? lastFetchSize - fetchSize : 0);\n            setEnd(lastFetchSize);\n            l(`Requesting fetch for start ${start} end ${end}`);\n        } else if (\n            limit - lastFetchSize + fetchSize > 0 &&\n            limit - lastFetchSize <= fetchSize\n        ) {\n            setStart(lastFetchSize - fetchSize);\n            setEnd(limit);\n            l(`Requesting fetch for start ${start} end ${end}`);\n        } else {\n            l(`Reached max limit set ${limit}`)\n            setDoneFetching(true);\n        }\n    }, [lastFetchSize, limit, fetchSize]);\n    const forceDonefetching = () => {\n        l(`User requested stop fetching`);\n        setDoneFetching(true)\n    }\n    return {\n        start,\n        end,\n        isFetching,\n        doneFetching,\n        setIsFetching,\n        forceDonefetching\n    };\n};\n\nexport default useLoadMoreOnScroll;","import React, { useState, useRef, useEffect } from \"react\";\nimport person from \"./mock.json\";\nimport useLoadMoreOnScroll from 'react-pagination';\n\n\nconst List = props => {\n  const fetchSize = 20;\n  const limit = 1000;\n  const ulElement = useRef();\n  const [data, setData] = useState([]);\n  const {\n    start,\n    end,\n    isFetching,\n    doneFetching,\n    setIsFetching,\n    forceDonefetching\n  } = useLoadMoreOnScroll({ fetchSize, scroller: ulElement, limit:limit, mode:'error' });\n\n  useEffect(() => {\n    if (start !== end) fetchHandler(start, end);\n  }, [start, end]);\n\n  /**\n   *\n   * @param {Number} start : Index to start fetching from or commonaly called 'Offset'\n   * @param {Number} end : Last index\n   */\n  const fetchHandler = (start, end) => {\n    setIsFetching(true);\n    setTimeout(() => {\n      setData([...data, ...person.slice(start, end)]);\n      \n      setIsFetching(false);\n    }, 2000);\n  };\n\n  return (\n    <div className=\"list\" ref={ulElement} style={{ height: \"400px\", overflow: \"auto\" }}>\n        {data.map((i, idx) => (\n          <div\n          className=\"list-item\"\n            key={idx}\n          >{` ${i.first_name} ${i.last_name}`}</div>\n        ))}\n        {isFetching && <div className=\"list-item-loader\"></div>}\n        {doneFetching && <div className=\"list-item-done\">Done!</div>}\n      </div>\n  );\n};\nexport default List;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport person from \"./mock.json\";\nimport useLoadMoreOnScroll from 'react-pagination';\nimport { List,ListItem, ListItemAvatar, Avatar, ListItemText, Typography, makeStyles, Divider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n      width: '100%',\n      maxWidth: 360,\n      backgroundColor: theme.palette.background.paper,\n    },\n    inline: {\n      display: 'block',\n    },\n  }));\n\nconst MaterialList = props => {\n    const classes = useStyles();\n  const fetchSize = 20;\n  const limit = 1000;\n  const ulElement = useRef();\n  const [data, setData] = useState([]);\n  const {\n    start,\n    end,\n    isFetching,\n    doneFetching,\n    setIsFetching,\n    forceDonefetching\n  } = useLoadMoreOnScroll({ fetchSize, scroller: ulElement, limit:limit, mode:'error' });\n\n  useEffect(() => {\n    if (start !== end) fetchHandler(start, end);\n  }, [start, end]);\n\n  /**\n   *\n   * @param {Number} start : Index to start fetching from or commonaly called 'Offset'\n   * @param {Number} end : Last index\n   */\n  const fetchHandler = (start, end) => {\n    console.log(start, end)\n    console.log(\"fetching data...\");\n    setIsFetching(true);\n    setTimeout(() => {\n      setData([...data, ...person.slice(start, end)]);\n      console.log(\"done fetching\");\n      setIsFetching(false);\n    }, 2000);\n  };\n  const getInitials = (fn, ln) =>{\n      return fn.toUpperCase().substring(0,1)\n      + ln.toUpperCase().substring(0,1)\n  }\n  return (\n    <List ref={ulElement} style={{ height: \"400px\", overflow: \"auto\" }}>\n        {data.map((i, idx) => (\n          <>\n          <ListItem\n            button\n            key={idx}\n          >\n              <ListItemAvatar>\n              <Avatar alt=\"Remy Sharp\"  >\n                  {getInitials(i.first_name, i.last_name)}\n              </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={`${i.first_name} ${i.last_name}`} secondary={<Typography\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n                className={classes.inline}\n              >\n                {i.email}\n              </Typography>}>\n\n              </ListItemText>\n              </ListItem>\n              <Divider variant=\"inset\" component=\"li\" />\n              </>\n        ))}\n        \n        {isFetching && <div key={-1} className=\"list-item-loader\"></div>}\n      </List>\n  );\n};\nexport default MaterialList;\n","import React, { useRef } from \"react\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport { Button } from \"@material-ui/core\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nconst CodeSnippet = props => {\n  const input = useRef();\n  const [open, setOpen] = React.useState(false);\n  const [message, setMessage] = React.useState(false);\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpen(false);\n  };\n  const copy = () => {\n    input.current.focus();\n    input.current.select();\n    try {\n      document.execCommand(\"copy\");\n      setMessage(\"Copied to clipboard\");\n    } catch (err) {\n      console.error(err);\n      setMessage(\"Failed to copy\");\n    } finally {\n      setOpen(true);\n    }\n  };\n  return (\n    <div style={{ padding: \"1em\" }}>\n      <h5>{props.title.toUpperCase()}</h5>\n      <pre style={{ padding: \"1em\" }}>\n        <Button title=\"Copy to Clipboard\" onClick={copy}>\n          <FileCopyIcon color=\"action\" style={{ color: \"white\" }} />\n        </Button>\n        <code>{props.text}</code>\n      </pre>\n      <input\n        style={{ opacity: 0 }}\n        ref={input}\n        defaultValue={props.text}\n      ></input>\n      <Snackbar\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        }}\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={message}\n        action={\n          <React.Fragment>\n            <Button color=\"secondary\" size=\"small\" onClick={handleClose}>\n              Great!\n            </Button>\n            <IconButton\n              size=\"small\"\n              aria-label=\"close\"\n              color=\"inherit\"\n              onClick={handleClose}\n            >\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n    </div>\n  );\n};\n\nexport default CodeSnippet;\n","import React from \"react\";\nimport {\n  Paper,\n  Grid,\n  makeStyles,\n  Typography,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText\n} from \"@material-ui/core\";\nimport \"./App.css\";\nimport PlainList from \"./List\";\nimport MaterialList from \"./MaterialList\";\nimport CheckIcon from \"@material-ui/icons/Check\";\nimport CodeSnippet from \"./CodeSnippet\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: \"#f5f5f5\",\n    padding: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"left\",\n    color: theme.palette.text.primary\n  },\n  paperCenter: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    color: theme.palette.text.primary\n  },\n  inline: {\n    display: \"block\"\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const b = text => <b>{text}</b>;\n  const i = text => <i>{text}</i>;\n  const bi = text => (\n    <b>\n      <i>{text}</i>\n    </b>\n  );\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={4}>\n        <Grid container item xs={12} md={12} spacing={4}>\n          <Grid item xs={12} md={12}>\n            <Paper className={classes.paperCenter}>\n              <Typography gutterBottom variant=\"h2\" color=\"textPrimary\">\n                React Pagination\n              </Typography>\n              <Typography variant=\"h5\" color=\"textPrimary\">\n                Implement load more on scroll using easy to use hooks! ðŸŽ‰ðŸŽ‰\n              </Typography>\n            </Paper>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Paper className={classes.paper}>\n              <Typography variant=\"h4\" color=\"textPrimary\">\n                Features\n              </Typography>\n              <List>\n                <ListItem key={0}>\n                  <ListItemIcon>\n                    <CheckIcon />\n                    <ListItemText\n                      primaryTypographyProps={{ color: \"textPrimary\" }}\n                      primary=\"Fully Compatible with hooks\"\n                    ></ListItemText>\n                  </ListItemIcon>\n                </ListItem>\n                <ListItem key={1}>\n                  <ListItemIcon>\n                    <CheckIcon />\n                    <ListItemText\n                      primaryTypographyProps={{ color: \"textPrimary\" }}\n                      primary=\"Easy to use API\"\n                      secondary={\n                        <Typography\n                          component=\"span\"\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          className={classes.inline}\n                        >\n                          Single line of code to initiate the hook\n                        </Typography>\n                      }\n                    ></ListItemText>\n                  </ListItemIcon>\n                </ListItem>\n                <ListItem key={2}>\n                  <ListItemIcon>\n                    <CheckIcon />\n\n                    <ListItemText\n                      primaryTypographyProps={{ color: \"textPrimary\" }}\n                      primary=\"Customise load behaviour via parameters\"\n                      secondary={\n                        <Typography\n                          component=\"span\"\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          className={classes.inline}\n                        >\n                          Specify fetch size, limit and scroller to monitor\n                          fetch behaviour.\n                        </Typography>\n                      }\n                    ></ListItemText>\n                  </ListItemIcon>\n                </ListItem>\n                <ListItem key={3}>\n                  <ListItemIcon>\n                    <CheckIcon />\n\n                    <ListItemText\n                      primaryTypographyProps={{ color: \"textPrimary\" }}\n                      primary=\"Configure custom loader, end of list behavior\"\n                      secondary={\n                        <Typography\n                          component=\"span\"\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          className={classes.inline}\n                        >\n                          Add Custom loader to notify loading progress\n                        </Typography>\n                      }\n                    ></ListItemText>\n                  </ListItemIcon>\n                </ListItem>\n                <ListItem key={4}>\n                  <ListItemIcon>\n                    <CheckIcon />\n\n                    <ListItemText\n                      primaryTypographyProps={{ color: \"textPrimary\" }}\n                      primary=\"Externalized fetch, You define how to fetch, hook decides when to fetch\"\n                      secondary={\n                        <Typography\n                          component=\"span\"\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          className={classes.inline}\n                        ></Typography>\n                      }\n                    ></ListItemText>\n                  </ListItemIcon>\n                </ListItem>\n              </List>\n            </Paper>\n          </Grid>\n\n          <Grid item xs={12} md={6}>\n            <CodeSnippet\n              title=\"Installation\"\n              text=\"npm install react-pagination\"\n            ></CodeSnippet>\n            <CodeSnippet\n              title=\"Import\"\n              text=\"import useLoadMoreOnScroll from 'react-pagination';\"\n            ></CodeSnippet>\n          </Grid>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <CodeSnippet\n            title=\"Stub\"\n            text={`\n  const {\n         start,\n         end,\n         isFetching,\n         doneFetching,\n         setIsFetching,\n         forceDonefetching\n       } = useLoadMoreOnScroll({ fetchSize, scroller: ulElement, limit });\n                      \n  useEffect(()=>{\n   // Notify the hook that you are about to fetch\n   setIsFetching(true);\n   //fetch data when start and end changes\n   fetch(start, end).then(res=>{\n    if(!res.body.hasMore){\n      //Stop fetching, else the hook will keep \n      //update start and end to let you fetch more data till limit is exceeded\n      forceDonefetching();\n    }\n    // Notify the hook that you are done fetching data\n    setIsFetching(false);\n    });\n  },[start, end])\n  `}\n          ></CodeSnippet>\n        </Grid>\n\n        <Grid item xs={12} md={4}>\n          <Paper className={classes.paper}>\n            <Typography variant=\"h4\" color=\"textPrimary\">\n              Vanilla HTML\n            </Typography>\n            <PlainList></PlainList>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Paper className={classes.paper}>\n            <Typography variant=\"h4\" color=\"textPrimary\">\n              Material List\n            </Typography>\n            <MaterialList></MaterialList>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} md={12}>\n          <Paper className={classes.paper}>\n            <Typography variant=\"h4\" color=\"textPrimary\">\n              Documentation\n            </Typography>\n            <Typography variant=\"h5\" color=\"textPrimary\">\n              Behaviour\n            </Typography>\n            <Typography variant=\"p\" color=\"textPrimary\">\n              The hook i.e.{bi(\" useLoadMoreOnScroll \")}\n              will let your component know when a new chunk of data {i(\n                \"needs\"\n              )}{\" \"}\n              to be fetched. The need to fetch new data is derived from the\n              below logic:\n              <ul>\n                <p>\n                  In the {i(\"normal\")} load more on scroll behaviour, data is\n                  fetched propressively when the user scroll towards the bottom\n                  of the list. As the minimum threshold is approached. The\n                  minimum threshold is set to 25 pixels by default and can be\n                  altered by setting the {i(\"minDelta\")} prop. The hook updates\n                  the start and end parameters as soon as the threshold is met\n                  to notifiy the component to fetch next chunk of data.\n                </p>\n                <p>\n                  {bi(\" fetchSize \")} determines the chunk size and{\" \"}\n                  {bi(\" limit \")} determines the max number of chunks the hook\n                  will request the component.\n                  <br></br> {i(\"Example\")}: if your fetch size is 10 and your\n                  limit is set to 500, the hook will update the start and end\n                  parameters with values like (0,10), (10,20)...(490, 500).\n                </p>\n                <p>\n                  If a scroll is not available/visible on the {bi(\" scroller \")}{\" \"}\n                  element provided, the hook will continue updating the start\n                  and end variables until the scroll is made available. After\n                  that, the normal load more on scroll behaviour will be\n                  restored.\n                </p>\n                <p>\n                  The hook will keep on updating the {bi(\" start \")} and{\" \"}\n                  {bi(\" end \")} variables until limit is breached or{\" \"}\n                  {bi(\" forceDonefetching \")} is called externally by the\n                  component.\n                </p>\n              </ul>\n            </Typography>\n            <Typography variant=\"h5\" color=\"textPrimary\">\n              API\n            </Typography>\n            <Typography color=\"textPrimary\">\n              <Typography variant=\"h6\" color=\"textPrimary\">\n                Hook Input\n              </Typography>\n              <ul>\n                <p>\n                  {b(\"fetchSize \")} {i(\"{Number, 10}\")} Determines the chunk\n                  size during each fetch\n                </p>\n                <p>\n                  {b(\"scroller \")} {i(\"{DOM Element}\")} A react {i(\"Ref\")}{\" \"}\n                  representing the list scroll container. Progressive fetching will be done based on the scroll\n                  position of this container.\n                </p>\n                <p>\n                  {b(\"limit \")} {i(\"{Number, 500}\")} Max. items to display in\n                  the list\n                </p>\n                <p>\n                  {b(\"mode \")} {i(\"{String, 'error'}\")} Set to {i(\"debug\")} to\n                  see the hook logs\n                </p>\n                <p>\n                  {b(\"minDelta \")} {i(\"{Number, 25}\")} The threshold gap (in\n                  pixels) between the container bottom and scroll position which\n                  will trigger the next fetch\n                </p>\n              </ul>\n              <Typography variant=\"h6\" color=\"textPrimary\">\n                Hook Output\n              </Typography>\n              <ul>\n                <p>\n                  {b(\"start\")} {i(\"{Number}\")} Start index or offset for the new\n                  chunk\n                </p>\n                <p>\n                  {b(\"end\")} {i(\"{Number}\")} End index or max. items in each\n                  chunk\n                </p>\n                <p>\n                  {b(\"isFetching\")} {i(\"{Boolean}\")} Status to denote the fetch\n                  status\n                </p>\n                <p>\n                  {b(\"doneFetching\")} {i(\"{Boolean}\")} Either reached the{\" \"}\n                  {i(\"limit\")} or component has called {i(\"forceDonefetching\")}\n                </p>\n                <p>\n                  {b(\"setIsFetching\")} {i(\"{Function}\")} Externally set the\n                  fetch status when fetching data.\n                </p>\n                <p>\n                  {b(\"forceDonefetching\")} {i(\"{Function}\")} Terminate future\n                  fetches\n                </p>\n              </ul>\n            </Typography>\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}